---
title: 使用动态嵌入式序列
seo-title: 使用动态嵌入式序列
description: 可查看本页以了解如何在您的AEM Screens项目中实施动态嵌入式序列。
seo-description: 可查看本页以了解如何在您的AEM Screens项目中实施动态嵌入式序列。
uuid: 1f442489-2eeb-4dd8-b892-911fcccb3377
contentOwner: jsyal
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/SCREENS
topic-tags: authoring
discoiquuid: a40eb5bb-fbf7-4c0d-a34a-db79b884de8f
translation-type: tm+mt
source-git-commit: 2a3bbdd283f983cbdb5f21b606f508603385e041
workflow-type: tm+mt
source-wordcount: '2535'
ht-degree: 3%

---


# 使用动态嵌入式序列 {#using-dynamic-embedded-sequence}

使用动态嵌入式序列涵盖以下主题：

* **概述**
* **在AEM Screens使用动态嵌入式体验**
* **查看结果**
* **限制用户和修改ACL**

## 概述 {#overview}

***动态嵌*** 入序列是为遵循父子层次结构的大型项目创建的，其中子项在位置文件夹而非渠道文件夹中引用。它允许用户通过&#x200B;***渠道角色***&#x200B;将序列嵌入渠道中。 它允许用户使用主渠道中的嵌入式序列为不同办公室定义特定于位置的占位符。

将渠道分配给显示屏时，您可以选择指定显示屏的路径或渠道的角色，该角色将按上下文解析为实际渠道。

要使用动态嵌入式序列，请通过&#x200B;***渠道角色***&#x200B;分配渠道。 渠道角色定义显示的上下文。 该角色由各种操作来定位，并且与完成该角色的实际渠道无关。 此部分描述了一个按角色定义渠道的用例，以及如何将该内容用于全局渠道。您还可以将角色视为分配的标识符，或渠道在上下文中的别名。

### 使用动态嵌入式序列{#benefits-of-using-dynamic-embedded-sequences}的优势

将序列渠道放在位置而不是渠道文件夹中的主要好处是允许本地或区域作者编辑与其相关的内容，同时限制其在层次结构中上一级编辑渠道。

通过按角色引用&#x200B;*渠道*，您可以创建渠道的本地版本，以便动态解析特定于位置的内容，还可以创建利用特定于位置的渠道的内容的全局渠道。

>[!NOTE]
>
>**嵌入式序列与动态嵌入式序列**
>
>动态嵌入式序列与嵌入式序列类似，但允许用户遵循一个层次结构，在该层次结构中，对一个渠道所做的更改／更新会传播到相关的另一个。 它遵循父子层次结构，还包括图像或视频等资产。
>
>***动态嵌入*** 序列允许您显示特定于位置的内容，而 ***嵌入式*** 序列仅显示内容的一般幻灯片。此外，在设置动态嵌入式序列时，您需要使用渠道角色和名称配置渠道。 有关实际实施，请参阅以下步骤。
>
>要了解有关实现嵌入式序列的更多信息，请参阅AEM Screens的[嵌入式序列](embedded-sequences.md)。

以下示例重点介绍以下关键术语，以提供解决方案：

* 全局序列的&#x200B;***主序列渠道***
* ***动态嵌*** 入式序列组件的每个本地可自定义部分
* ***单个序*** 列在显示器中以 ** 匹配动态嵌入式序 **列组件角色的角色在各个位 *置进行*更改。**

>[!NOTE]
>
>要了解有关渠道分配的更多信息，请参阅AEM Screens文档“创作”部分下的&#x200B;**[渠道分配](channel-assignment.md)**。

## 使用动态嵌入式序列 {#using-dynamic-embedded-sequence-2}

下节介绍如何在AEM Screens渠道中创建动态嵌入式序列。

### 前提条件 {#prerequisites}

在开始实现此功能之前，请确保您已准备好以下先决条件以开始实现动态嵌入式序列：

* 创建AEM Screens项目（在本例中，**Demo**）

* 在&#x200B;**渠道**&#x200B;文件夹下创建&#x200B;**Global**&#x200B;渠道

* 向&#x200B;**Global**&#x200B;渠道添加内容（*请检查&#x200B;**Resources.zip**以了解相关资产*）

下图显示了&#x200B;**渠道**&#x200B;文件夹中具有&#x200B;**Global**&#x200B;渠道的&#x200B;**Demo**项目。
![screen_shot_2018-09-07at21032pm](assets/screen_shot_2018-09-07at21032pm.png)

### 资源 {#resources}

您可以下载以下资源（图像并将这些资源添加到资产），并进一步将它们用作渠道内容以进行演示。

[获取文件](assets/resources.zip)

>[!NOTE]
>
>有关如何创建项目以及如何创建序列渠道的其他信息，请参阅以下资源：
>
>* **[创建和管理项目](creating-a-screens-project.md)**
>* **[管理渠道](managing-channels.md)**

>



在AEM Screens项目中实施动态嵌入式序列涉及三大任务:

1. **设置项目分类，包括渠道、位置和显示**
1. **创建计划**
1. **将计划分配给每个显示屏**

请按照以下步骤实施该功能：

>[!CAUTION]
>
>在实施动态嵌入式序列时，请注意&#x200B;**名称**&#x200B;和&#x200B;**标题**&#x200B;字段，同时在每个位置下创建渠道。 请按照命名法的说明谨慎操作。

1. **创建两个位置文件夹。**

   导航到您的AEM Screens项目中的&#x200B;**位置**&#x200B;文件夹，并创建两个位置文件夹，分别作为&#x200B;**区域A**&#x200B;和&#x200B;**区域B**。

   >[!NOTE]
   >
   >在创建&#x200B;**区域A**&#x200B;位置文件夹时，请确保输入&#x200B;**标题**&#x200B;作为&#x200B;**区域A**，并将&#x200B;**名称**&#x200B;字段留空，以便自动选取&#x200B;**区域-a**&#x200B;名称。
   >
   >类似，用于创建位置文件夹&#x200B;**Region B**&#x200B;的情况如下：

   ![screen_shot_2018-09-13at23212pm](assets/screen_shot_2018-09-13at23212pm.png)

   >[!NOTE]
   >要了解如何创建位置，请参阅&#x200B;**[创建和管理位置](managing-locations.md)**。

1. **在每个位置文件夹下创建两个位置和一个渠道。**

   1. 导航到&#x200B;**Demo** —> **位置** —> **区域A**。
   1. 选择&#x200B;**区域A**，然后单击操作栏中的&#x200B;**+创建**。
   1. 从向导中选择&#x200B;**位置**，将&#x200B;**标题**&#x200B;作为&#x200B;**商店1**。 同样，从标题为&#x200B;**商店2**&#x200B;的向导中创建另一个位置，其中&#x200B;**标题**&#x200B;为&#x200B;**商店2**。 创建&#x200B;**商店1**&#x200B;和&#x200B;**商店2**&#x200B;时，可将&#x200B;**名称**&#x200B;字段留空。
   1. 重复步骤(b)，现在从向导中选择&#x200B;**序列渠道**。 为此渠道输入&#x200B;**标题**&#x200B;作为&#x200B;**区域A**&#x200B;和&#x200B;**名称**&#x200B;作为&#x200B;**区域**。

   >[!CAUTION]
   >
   >请确保在创建渠道&#x200B;**区域A**&#x200B;时，将&#x200B;**标题**&#x200B;输入为&#x200B;**区域A**，将&#x200B;**名称**&#x200B;输入为&#x200B;**区域**。

   ![screen_shot_2018-09-13at22857pm](assets/screen_shot_2018-09-13at22857pm.png)

   同样，在标题为&#x200B;**商店3**&#x200B;和&#x200B;**商店4**&#x200B;的&#x200B;**区域B**&#x200B;下创建两个位置。 此外，创建&#x200B;**序列渠道**，其中&#x200B;**标题**&#x200B;为&#x200B;**区域B**&#x200B;和&#x200B;**名称**&#x200B;为&#x200B;**区域**。

   >[!CAUTION]
   >
   >请确保对在&#x200B;**区域A**&#x200B;和&#x200B;**区域B**&#x200B;中创建的渠道使用相同的名称作为&#x200B;**区域**。

   ![screen_shot_2018-09-13at24408pm](assets/screen_shot_2018-09-13at24408pm.png)

1. **在每个位置下创建显示和渠道。**

   1. 导航到&#x200B;**Demo** —> **位置** —> **区域A** —> **商店1**。
   1. 选择&#x200B;**存储1**，然后单击操作栏中的&#x200B;**+创建**。
   1. 从向导中选择&#x200B;**显示**&#x200B;并创建&#x200B;**Store1Display。**
   1. 重复步骤(b)，此时从向导中选择&#x200B;**序列渠道**。 将&#x200B;**标题**&#x200B;输入为&#x200B;**商店1渠道**，将&#x200B;**名称**&#x200B;输入为&#x200B;**商店**。

   >[!CAUTION]
   >
   >创建序列渠道时很重要，该渠道的&#x200B;**标题**&#x200B;可以作为您的要求，但&#x200B;**名称**在所有本地渠道中应相同。
   >在本例中，**区域A**&#x200B;和&#x200B;**区域B**&#x200B;下的渠道与&#x200B;**区域**&#x200B;的名称&#x200B;**和**&#x200B;商店1 **、**&#x200B;商店2 **、**&#x200B;商店3 **和**&#x200B;商店4 **与**&#x200B;商店&#x200B;**共享相同的**&#x200B;名称&#x200B;**。**

   ![screen_shot_2018-09-19at120206pm](assets/screen_shot_2018-09-19at120206pm.png)

   同样，在&#x200B;**Store 2**&#x200B;下创建&#x200B;**Store2Display**&#x200B;和渠道&#x200B;**Store2渠道**（名称为&#x200B;**store**）。

   >[!NOTE]
   >请确保对在&#x200B;**商店1**&#x200B;和&#x200B;**商店2**&#x200B;中创建的渠道使用与&#x200B;**商店**&#x200B;相同的名称。

   ![screen_shot_2018-09-19at120329pm](assets/screen_shot_2018-09-19at120329pm.png)

   按照上述步骤，在&#x200B;**区域B**&#x200B;下创建渠道并显示在&#x200B;**商店3**&#x200B;和&#x200B;**商店4**&#x200B;中。 同样，请确保在创建渠道&#x200B;**Store3渠道**&#x200B;和&#x200B;**Store4渠道**&#x200B;时，使用与&#x200B;**store**&#x200B;相同的&#x200B;**名称**。

   下图显示了&#x200B;**商店3**&#x200B;中的显示和渠道。

   ![screen_shot_2018-09-19at120448pm](assets/screen_shot_2018-09-19at120448pm.png)

   下图显示了&#x200B;**商店4**&#x200B;中的显示和渠道。

   ![screen_shot_2018-09-19at120552pm](assets/screen_shot_2018-09-19at120552pm.png)

1. **将内容添加到渠道各自的位置。**

   导航到&#x200B;**Demo** -> **位置** -> **区域A** -> **区域A**，然后单击操作栏中的&#x200B;**编辑**。 拖放要添加到渠道的资产。

   >[!NOTE]
   >您可以使用上面“资源”部分的&#x200B;***Resources.zip***&#x200B;文件，将图像用作渠道内容的资产。****

   ![screen_shot_2018-09-12at12438pm](assets/screen_shot_2018-09-12at12438pm.png)

   同样，导航至&#x200B;**Demo** -> **位置** -> **区域B** -> **区域B** ，然后单击操作栏中的&#x200B;**编辑**&#x200B;将资产拖放到您的渠道，如下所示：

   ![screen_shot_2018-09-12at13133pm](assets/screen_shot_2018-09-12at13133pm.png)

   请按照上述步骤和资源，向以下渠道添加内容：

   * **商店1渠道**
   * **商店2渠道**
   * **商店3渠道**
   * **商店4渠道**

1. **创建计划**

   导航并选择AEM Screens项目中的&#x200B;**计划**&#x200B;文件夹，然后单击操作栏中的&#x200B;**创建**&#x200B;以创建新计划。

   下图显示了在&#x200B;**Demo**&#x200B;项目中创建的&#x200B;**AdSchedule**。

   ![screen_shot_2018-09-13at3307pm](assets/screen_shot_2018-09-13at33307pm.png)

1. **将渠道分配给计划**

   1. 导航到&#x200B;**Demo** —> **计划** —> **AdSchedule** ，然后单击操作栏中的&#x200B;**仪表板**。
   1. 单击&#x200B;**ASSIGNED渠道**&#x200B;面板中的&#x200B;**+分配渠道**&#x200B;以打开&#x200B;**渠道分配**&#x200B;对话框。
   1. 按路径选择&#x200B;**引用渠道**..。
   1. 选择&#x200B;**渠道路径**&#x200B;作为&#x200B;**Demo** —> ***渠道*** —> ***全局***。
   1. 将&#x200B;**渠道角色**&#x200B;输入为&#x200B;**GlobalAdSegment**。
   1. 选择&#x200B;**支持的事件**&#x200B;作为&#x200B;**初始负载**、**空闲屏幕**&#x200B;和&#x200B;**用户交互**。
   1. 单击&#x200B;**保存**。

   **按角色为渠道分配区域：**

   1. 单击&#x200B;**ASSIGNED渠道**&#x200B;面板中的&#x200B;**+分配渠道**&#x200B;以打开&#x200B;**渠道分配**&#x200B;对话框。
   1. 选择&#x200B;**引用渠道**。 按照名称.
   1. 输入&#x200B;**渠道名称**&#x200B;作为&#x200B;**区域***。
   1. 将&#x200B;**渠道角色**&#x200B;输入为&#x200B;**RegionAdSegment**。
   1. 单击&#x200B;**保存**。

   **按角色为商店分配渠道:**

   1. 单击&#x200B;**ASSIGNED渠道**&#x200B;面板中的&#x200B;**+分配渠道**&#x200B;以打开&#x200B;**渠道分配**&#x200B;对话框。
   1. 选择&#x200B;**引用渠道**。 按照名称.
   1. 输入&#x200B;**渠道名称**&#x200B;作为&#x200B;**store**。
   1. 将&#x200B;**渠道角色**&#x200B;输入为&#x200B;**StoreAdSegment**。
   1. 单击&#x200B;**保存**。

   下图按路径和角色显示分配的渠道。

   ![screen_shot_2018-09-12at21429pm](assets/screen_shot_2018-09-12at21429pm.png)

1. **将动态嵌入式序列配置为全局渠道。**

   导航到&#x200B;**Global**&#x200B;渠道，您最初是在&#x200B;**Demo**&#x200B;项目中创建的。

   单击操作中的&#x200B;**编辑**&#x200B;以打开编辑器。

   ![screen_shot_2018-09-13at52754pm](assets/screen_shot_2018-09-13at52754pm.png)

   在渠道编辑器中拖放两个&#x200B;**动态嵌入式序列**&#x200B;组件。

   从其中一个组件中打开属性，并输入&#x200B;**渠道分配角色**&#x200B;作为&#x200B;**RegionAdSegment**。

   同样，选择其他组件并打开属性以将&#x200B;**渠道分配角色**&#x200B;输入为&#x200B;**StoreAdSegment**。

   ![channeldisplay4](assets/channeldisplay4.gif)

1. **将计划分配给每个显示屏**

   1. 导航到每个显示屏，如&#x200B;**Demo** —> **位置** —> **区域A** —>**商店1** —>**商店1Display**。
   1. 单击操作中的&#x200B;**仪表板**&#x200B;以打开显示仪表板。
   1. 单击&#x200B;**...从**“已分配渠道和计划”**面板中单击**&#x200B;并进一步单击&#x200B;**+分配计划**。
   1. 选择计划的路径(例如，此处&#x200B;**Demo** —> **计划** —>**AdSchedule**)。
   1. 单击&#x200B;**保存**。

## 查看结果{#viewing-the-results}

设置渠道和显示完成后，请启动AEM Screens播放器以视图内容。

>[!NOTE]
>
>要了解AEM Screen Player，请参阅以下资源：
>
>* [AEM Screens播放器下载](https://download.macromedia.com/screens/)
>* [使用AEM Screens播放器](working-with-screens-player.md)



以下输出将根据显示路径确认您在AEM Screens播放器中的渠道内容。

**方案1**:

如果将显示路径指定为&#x200B;**Demo** —> **位置** —> **区域A** —> **商店1** —> **商店1Display**，则以下内容将显示在您的AEM Screens播放器上。

![channeldisplay1](assets/channeldisplay1.gif)

**方案1**:

如果将显示路径指定为&#x200B;**Demo** —> **位置** —> **区域B** —> **商店3** —> **商店3Display**，以下内容将显示在您的AEM Screens播放器上。

![channeldisplay2](assets/channeldisplay2.gif)

## 限制用户并修改ACL {#restricting-users-and-modifying-the-acls}

您可以创建全局、区域或本地作者来编辑与其相关的内容，同时限制您在层次结构的上方编辑渠道。

您需要修改ACL以根据用户的位置限制用户访问内容。

### 用例{#example-use-case}

以下示例允许您为上述演示项目创建三个用户。

为每个组分配的权限如下：

**组**:

* **全局作者**:由具有访问演示项目中所有位置和渠道的权 **** 限并具有所有读取、写入和编辑权限的用户组成。

* **区域——作者**:由对区域和区域B具有读取、写入和编辑 **权** 限 **的用户组成**。

* **商店——作者**:由只对商店1、商店2、商店3和商店4具有读 **、写和编**&#x200B;辑权 **限的用**&#x200B;户组成 **，这些用户对商店** 1、商店 **2、商店3**&#x200B;和商店4具有读、写和编辑权限。

#### 创建用户组、用户和设置ACL的步骤{#steps-for-creating-user-groups-users-and-setting-up-acls}

>[!NOTE]
>
>要详细了解如何使用ACL隔离项目，使每个人或团队都能处理自己的项目，请参阅&#x200B;**设置ACL**。

按照以下步骤创建组、用户并根据权限修改ACL:

1. **创建组**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** —> **安全** —> **组**。
   1. 单击&#x200B;**创建组**，并在&#x200B;**ID**&#x200B;中输入&#x200B;**Global-Author**。
   1. 单击&#x200B;**保存并关闭**。

   同样，创建两个其他组，如&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**。

   ![screen_shot_2018-09-17at34008pm](assets/screen_shot_2018-09-17at34008pm.png)

1. **创建用户并将用户添加到用户组**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** —> **安全** —> **用户**。
   1. 单击&#x200B;**创建用户**，并在&#x200B;**ID**&#x200B;中输入&#x200B;**Global-User**。
   1. 输入&#x200B;**密码**&#x200B;并确认此用户的密码。
   1. 单击&#x200B;**组**&#x200B;选项卡，在&#x200B;**选择组**&#x200B;中输入组名称，例如，输入&#x200B;**Global-Author**&#x200B;将&#x200B;**Global-User**&#x200B;添加到该特定组。
   1. 单击&#x200B;**保存并关闭**。

   同样，创建另外两个用户，如&#x200B;**Region-User**&#x200B;和&#x200B;**Store-User**，并将这些用户分别添加到&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**。

   >[!NOTE]
   >最好将用户添加到组中，然后为每个特定用户组分配权限。

   ![screen_shot_2018-09-17at34412pm](assets/screen_shot_2018-09-17at34412pm.png)

1. **将所有组添加到参与者**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** —> **安全** —> **组**。
   1. 从列表中选择&#x200B;**参与者**&#x200B;并选择&#x200B;**成员**&#x200B;选项卡。
   1. 选择&#x200B;**Group**，如&#x200B;**Global-Author**、**Region-Author、**&#x200B;和&#x200B;**Store-Author**。
   1. 单击&#x200B;**保存并关闭**。

1. **访问每个组的权限**

   1. 导航到&#x200B;*Useradmin*&#x200B;并使用此UI修改不同组的权限。
   1. 搜索&#x200B;**Global-Author**&#x200B;并单击&#x200B;**权限**&#x200B;选项卡，如下图所示。
   1. 同样，您也可以访问&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**&#x200B;的权限。

   ![screen_shot_2018-09-18at73523am](assets/screen_shot_2018-09-18at73523am.png)

1. **修改每个用户组的权限**

   **对于全球作者：**

   1. 导航到&#x200B;**权限**&#x200B;选项卡
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并检查所有权限
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并检查所有权限
   1. 导航到&#x200B;***/content/screens/demo/locations/region-a***&#x200B;并检查所有权限。 同样，检查&#x200B;**region-b**&#x200B;的权限。

   请参阅下图以了解这些步骤：
   ![screen_shot_2018-09-18at115752am](assets/screen_shot_2018-09-18at115752am.png)

   下图显示，现在&#x200B;**全局用户**&#x200B;可访问&#x200B;**全局渠道**&#x200B;和&#x200B;**区域A**&#x200B;和&#x200B;**区域B**，所有四个存储均为&#x200B;**存储1**&#x200B;和&lt;a10/存储2 **、**&#x200B;存储3 **和**&#x200B;存储4 **。**

   ![全局](assets/global.gif)

   **对于区域作者：**

   1. 导航到&#x200B;**权限**&#x200B;选项卡。
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/渠道***&#x200B;并取消检查&#x200B;**全局**&#x200B;渠道的权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***/***region-a***&#x200B;并检查所有权限。 同样，检查&#x200B;**region-b**&#x200B;的权限。

   请参阅下图以了解这些步骤：

   ![screen_shot_2018-09-18at125158pm](assets/screen_shot_2018-09-18at125158pm.png)

   下图显示，区域用户现在可以访问&#x200B;**区域A**&#x200B;和&#x200B;**区域B**，所有四个存储均为&#x200B;**存储1**、**存储2**、**存储3**&#x200B;和&#x200B;**商店4**&#x200B;但无法访问&#x200B;**全局**&#x200B;渠道。

   ![地区](assets/region.gif)

   **对于商店——作者：**

   1. 导航到&#x200B;**权限**&#x200B;选项卡。
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/渠道***&#x200B;并取消检查&#x200B;**全局**&#x200B;渠道的权限。
   1. 导航到&#x200B;***/content/screens/demo/locations/region-a***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。 同样，仅检查&#x200B;**region-b**&#x200B;的&#x200B;**读**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***/***region-a /store-1***&#x200B;并检查所有权限。 同样，检查&#x200B;**store-2、store-3、**&#x200B;和&#x200B;**store-4**&#x200B;的权限。

   请参阅下图以了解这些步骤：

   ![screen_shot_2018-09-18at12415pm](assets/screen_shot_2018-09-18at12415pm.png)

   下图显示，现在&#x200B;**商店用户**&#x200B;只能访问商店1 **、**&#x200B;商店2 **、**&#x200B;商店3 **和**&#x200B;商店4 **四个商店，但无权访问&lt;a1/>0/>全局**&#x200B;或区域（**区域A**&#x200B;和&#x200B;**区域B**）渠道。****

   ![商店](assets/store.gif)

>[!NOTE]
>
>要详细了解设置权限，请参阅[设置ACL](setting-up-acls.md)。

