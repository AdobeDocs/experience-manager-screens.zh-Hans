---
title: 使用动态嵌入式序列
description: 了解如何在AEM Screens项目中实施动态嵌入式序列。
contentOwner: jsyal
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/SCREENS
topic-tags: authoring
feature: Authoring Screens
role: Admin, Developer
level: Intermediate
exl-id: 3208d058-0812-44e1-83e3-b727b384876a
source-git-commit: 8a914d4b0237c327b7954c936c84a2c1aa719603
workflow-type: tm+mt
source-wordcount: '2451'
ht-degree: 1%

---

# 使用动态嵌入式序列 {#using-dynamic-embedded-sequence}

使用动态嵌入式序列涵盖以下主题：

* **概述**
* **在AEM Screens中使用动态嵌入式体验**
* **查看结果**
* **限制用户和修改ACL**

## 概述 {#overview}

***动态嵌入式序列***&#x200B;是为遵循父子层次结构的大型项目创建的，其中子项在位置文件夹中引用，而不是在渠道文件夹中引用。 它允许用户通过&#x200B;***渠道角色***&#x200B;在渠道中嵌入序列。 它让用户可以使用主渠道中的嵌入式序列，为不同的办公室定义特定于位置的占位符。

在为显示分配渠道时，您可以选择指定显示的路径。 或者，您可以指定按上下文解析为实际渠道的渠道角色。

若要使用动态嵌入式序列，请通过&#x200B;***渠道角色***&#x200B;分配渠道。 渠道角色定义显示的上下文。 该角色可定向各种操作，且独立于履行该角色的实际渠道。 本节介绍按角色定义渠道的用例，以及如何将该内容应用于全局渠道。 您还可以将角色视为分配的标识符，或者在上下文中视为渠道的别名。

### 使用动态嵌入式序列的优势 {#benefits-of-using-dynamic-embedded-sequences}

将序列渠道放在位置而非渠道文件夹中可允许本地或区域作者编辑与其相关的内容。 它还允许限制它编辑层次结构中较高位置的渠道。

通过按角色引用&#x200B;*渠道*，可以创建本地版本的渠道。 这样做可动态解析特定于位置的内容，还可以让您创建全局渠道，并将该内容用于特定于位置的渠道。

>[!NOTE]
>
>**嵌入序列与动态嵌入序列**
>
>动态嵌入式序列类似于嵌入式序列，但允许用户遵循某个层次结构，在该层次结构中，对一个渠道所做的更改和更新会传播到相关的其他渠道中。 它遵循父子层次结构，并且还包括图像或视频等资产。
>
>***动态嵌入式序列***&#x200B;允许您显示特定于位置的内容，而&#x200B;***嵌入式序列***&#x200B;只显示内容的常规幻灯片放映。 此外，在设置动态嵌入式序列时，请使用渠道角色和名称配置渠道。 请参阅以下步骤以进行实际实施。
>
>要了解有关实现嵌入序列的详细信息，请参阅AEM Screens中的[嵌入序列](embedded-sequences.md)。

以下示例通过关注以下关键术语提供了解决方案：

* 全局序列的&#x200B;***主序列通道***。
* 序列中每个可本地自定义部分的&#x200B;***动态嵌入式序列***&#x200B;组件。
* 在与&#x200B;**动态嵌入序列组件的&#x200B;*role***匹配的显示区中具有&#x200B;*role*的各个位置中的&#x200B;***单个序列通道***。

>[!NOTE]
>
>要了解有关渠道分配的更多信息，请参阅AEM Screens文档创作部分中的&#x200B;**[渠道分配](channel-assignment.md)**。

## 使用动态嵌入式序列 {#using-dynamic-embedded-sequence-2}

以下部分介绍如何在AEM Screens渠道中创建动态嵌入式序列。

### 先决条件 {#prerequisites}

在开始实施此功能之前，请确保具备以下先决条件以便开始实施动态嵌入式序列：

* 创建一个AEM Screens项目（在本例中为&#x200B;**演示**）。
* 在&#x200B;**Channels**&#x200B;文件夹下创建一个&#x200B;**全局**&#x200B;频道。
* 将内容添加到您的&#x200B;**全局**&#x200B;渠道（*检查&#x200B;**Resources.zip**以了解相关资源*）。

下图显示了&#x200B;**渠道**&#x200B;文件夹中具有&#x200B;**全局**&#x200B;渠道的&#x200B;**演示**项目。
![screen_shot_2018-09-07at21032pm](assets/screen_shot_2018-09-07at21032pm.png)

### 资源 {#resources}

您可以下载以下资源（图像并将它们添加到资产），然后进一步将它们用作渠道内容以进行演示。

[获取文件](assets/resources.zip)

>[!NOTE]
>
>有关如何创建项目以及如何创建序列渠道的其他信息，请参阅以下资源：
>
>* **[创建和管理项目](creating-a-screens-project.md)**
>* **[管理渠道](managing-channels.md)**
>

在AEM Screens项目中实施动态嵌入式序列涉及三个主要任务：

1. **设置项目分类，包括渠道、位置和显示区**
1. **创建计划**
1. **为每个显示区分配计划**

请按照以下步骤实施该功能：

>[!CAUTION]
>
>实施动态嵌入式序列时，在每个位置下创建渠道时，请小心&#x200B;**Name**&#x200B;和&#x200B;**Title**&#x200B;字段。 请仔细按照命名法上的说明进行操作。

1. **创建两个位置文件夹。**

   导航到AEM Screens项目中的&#x200B;**位置**&#x200B;文件夹，并创建两个位置文件夹，即&#x200B;**区域A**&#x200B;和&#x200B;**区域B**。

   >[!NOTE]
   >
   >在创建&#x200B;**区域A**&#x200B;位置文件夹时，请确保输入&#x200B;**标题**&#x200B;作为&#x200B;**区域A**，并且您可以将&#x200B;**名称**&#x200B;字段留空，这样系统就会自动提取&#x200B;**区域A**&#x200B;名称。
   >
   >创建位置文件夹&#x200B;**区域B**&#x200B;的情况类似，如下所示：

   ![screen_shot_2018-09-13at23212pm](assets/screen_shot_2018-09-13at23212pm.png)

   >[!NOTE]
   >要了解如何创建位置，请参阅&#x200B;**[创建和管理位置](managing-locations.md)**。

1. **在每个位置文件夹下创建两个位置和一个渠道。**

   1. 导航到&#x200B;**演示** > **位置** > **区域A**。
   1. 单击&#x200B;**区域A**，然后单击操作栏中的&#x200B;**+创建**。
   1. 从向导中单击&#x200B;**位置**，并使用&#x200B;**标题**&#x200B;作为&#x200B;**存储1**。 同样，从标题为&#x200B;**商店2**&#x200B;的向导创建另一个位置，并使用&#x200B;**标题**&#x200B;作为&#x200B;**商店2**。 创建&#x200B;**存储区1**&#x200B;和&#x200B;**存储区2**&#x200B;时，您可以将&#x200B;**Name**&#x200B;字段留空。
   1. 重复步骤(b)，现在从向导中单击&#x200B;**序列通道**。 输入&#x200B;**Title**&#x200B;作为&#x200B;**区域A**，输入&#x200B;**Name**&#x200B;作为此频道的&#x200B;**区域**。

   >[!CAUTION]
   >
   >确保在创建渠道&#x200B;**区域A**&#x200B;时，输入&#x200B;**标题**&#x200B;作为&#x200B;**区域A**，并输入&#x200B;**名称**&#x200B;作为&#x200B;**区域**。

   ![screen_shot_2018-09-13at22857pm](assets/screen_shot_2018-09-13at22857pm.png)

   同样，在&#x200B;**区域B**&#x200B;下创建两个标题为&#x200B;**商店3**&#x200B;和&#x200B;**商店4**&#x200B;的位置。 此外，创建一个&#x200B;**序列频道**，其中&#x200B;**Title**&#x200B;为&#x200B;**Region B**，**Name**&#x200B;为&#x200B;**region**。

   >[!CAUTION]
   >
   >确保在&#x200B;**区域A**&#x200B;和&#x200B;**区域B**&#x200B;中创建的渠道可以使用与&#x200B;**区域**&#x200B;相同的名称。

   ![screen_shot_2018-09-13at24408pm](assets/screen_shot_2018-09-13at24408pm.png)

1. **在每个位置下创建显示区和频道。**

   1. 导航到&#x200B;**演示** > **位置** > **区域A** > **商店1**。
   1. 单击&#x200B;**存储1**，然后单击操作栏中的&#x200B;**+创建**。
   1. 单击向导中的&#x200B;**显示**&#x200B;并创建&#x200B;**`Store1Display`**。
   1. 重复步骤(b)，这次从向导中单击&#x200B;**序列通道**。 输入&#x200B;**标题**&#x200B;作为&#x200B;**`Store1Channel`**，输入&#x200B;**名称**&#x200B;作为&#x200B;**存储**。

   >[!CAUTION]
   >
   >创建序列频道时，请务必遵守频道的&#x200B;**标题**&#x200B;要求，但&#x200B;**名称**在所有本地频道中应该是相同的。
   >在此示例中，**区域A**&#x200B;和&#x200B;**区域B**&#x200B;下的渠道将&#x200B;**名称**&#x200B;共享为&#x200B;**区域**，而&#x200B;**`Store 1`**、**`Store 2`**、**`Store 3`**&#x200B;和&#x200B;**`Store 4`**&#x200B;下的渠道将&#x200B;**名称**&#x200B;共享为&#x200B;**存储**。

   ![screen_shot_2018-09-19at120206pm](assets/screen_shot_2018-09-19at120206pm.png)

   同样，在&#x200B;**`Store `2**（名称为&#x200B;**store**）下创建显示为&#x200B;**`Store2Display`**&#x200B;和通道&#x200B;**`Store2Channel`**。

   >[!NOTE]
   >确保在&#x200B;**`Store 1`**&#x200B;和&#x200B;**`Store 2`**&#x200B;中创建的渠道可以使用与&#x200B;**存储**&#x200B;相同的名称。

   ![screen_shot_2018-09-19at120329pm](assets/screen_shot_2018-09-19at120329pm.png)

   按照上述步骤进行操作，以便您能够在&#x200B;**区域B**&#x200B;下的&#x200B;**`Store 3`**&#x200B;和&#x200B;**`Store 4`**&#x200B;中创建并显示渠道。 同样，请确保在创建频道&#x200B;**`Store3Channel`**&#x200B;和&#x200B;**`Store4Channel`**&#x200B;时分别使用相同的&#x200B;**Name**&#x200B;作为&#x200B;**store**。

   下图显示了&#x200B;**`Store 3`**&#x200B;中的显示区和渠道。

   ![screen_shot_2018-09-19at120448pm](assets/screen_shot_2018-09-19at120448pm.png)

   下图显示了&#x200B;**`Store 4`**&#x200B;中的显示区和渠道。

   ![screen_shot_2018-09-19at120552pm](assets/screen_shot_2018-09-19at120552pm.png)

1. **将内容添加到各自位置的渠道。**

   导航到&#x200B;**演示** > **位置** > **区域A** > **区域A**，然后单击操作栏中的&#x200B;**编辑**。 拖放要添加到渠道的资产。

   >[!NOTE]
   >您可以使用上面&#x200B;**资源**&#x200B;部分中的&#x200B;***Resources.zip***&#x200B;文件将这些图像用作渠道内容的资产。

   ![screen_shot_2018-09-12at12438pm](assets/screen_shot_2018-09-12at12438pm.png)

   同样，导航到&#x200B;**演示** > **位置** > **区域B** > **区域B**，然后单击操作栏中的&#x200B;**编辑**&#x200B;以将资产拖放到您的渠道中，如下所示：

   ![screen_shot_2018-09-12at13133pm](assets/screen_shot_2018-09-12at13133pm.png)

   按照上述步骤和资源操作，以便您可以将内容添加到以下渠道：

   * **`Store1Channel`**
   * **`Store2Channel`**
   * **`Store3Channel`**
   * **`Store4Channel`**

1. **创建计划**

   导航并单击AEM Screens项目中的&#x200B;**计划**&#x200B;文件夹。 然后在操作栏中单击&#x200B;**创建**。

   下图显示了在&#x200B;**演示**&#x200B;项目中创建的&#x200B;**AdSchedule**。

   ![screen_shot_2018-09-13at33307pm](assets/screen_shot_2018-09-13at33307pm.png)

1. **将渠道分配给计划**

   1. 导航到&#x200B;**演示** > **计划** > **AdSchedule**，然后单击操作栏中的&#x200B;**仪表板**。
   1. 从&#x200B;**已分配渠道**&#x200B;面板中单击&#x200B;**+分配渠道**，以便打开&#x200B;**渠道分配**&#x200B;对话框。
   1. 按路径单击&#x200B;**引用频道**。
   1. 单击&#x200B;**渠道路径**，例如&#x200B;**演示** > ***渠道*** > ***全局***。
   1. 输入&#x200B;**渠道角色**，就像&#x200B;**GlobalAdSegment**&#x200B;一样。
   1. 单击&#x200B;**支持的事件**，例如&#x200B;**初始加载**、**空闲屏幕**&#x200B;和&#x200B;**用户交互**。
   1. 单击&#x200B;**保存**。

   **按角色为区域**&#x200B;分配渠道

   1. 从&#x200B;**已分配渠道**&#x200B;面板中单击&#x200B;**+分配渠道**。
   1. 在“渠道分配”对话框中，单击按名称&#x200B;**引用渠道**。
   1. 输入&#x200B;**渠道名称**&#x200B;作为&#x200B;**区域***。
   1. 输入&#x200B;**渠道角色**&#x200B;作为&#x200B;**RegionAdSegment**。
   1. 单击&#x200B;**保存**。

   **按角色为存储分配渠道：**

   1. 从&#x200B;**已分配渠道**&#x200B;面板中单击&#x200B;**+分配渠道**。
   1. 在“渠道分配”对话框中，单击按名称&#x200B;**引用渠道**。
   1. 输入&#x200B;**渠道名称**&#x200B;作为&#x200B;**存储**。
   1. 输入&#x200B;**渠道角色**&#x200B;作为&#x200B;**StoreAdSegment**。
   1. 单击&#x200B;**保存**。

   下图显示了按路径和角色分配的渠道。

   ![screen_shot_2018-09-12at21429pm](assets/screen_shot_2018-09-12at21429pm.png)

1. **正在配置全局通道的动态嵌入式序列。**

   导航到您最初在&#x200B;**演示**&#x200B;项目中创建的&#x200B;**全局**&#x200B;渠道。

   单击操作栏中的&#x200B;**编辑**。

   ![screen_shot_2018-09-13at52754pm](assets/screen_shot_2018-09-13at52754pm.png)

   在编辑器中，将两个&#x200B;**动态嵌入式序列**&#x200B;组件拖放到渠道编辑器中。

   从其中一个组件打开属性，并输入&#x200B;**渠道分配角色**&#x200B;作为&#x200B;**RegionAdSegment**。

   同样，单击其他组件并打开属性以输入&#x200B;**渠道分配角色**&#x200B;作为&#x200B;**StoreAdSegment**。

   ![channeldisplay4](assets/channeldisplay4.gif)

1. **为每个显示区分配计划**

   1. 导航到每个显示区，如&#x200B;**演示** > **位置** > **区域A** >**商店1** >**`Store1Display`**。
   1. 单击操作栏中的&#x200B;**仪表板**。
   1. 在仪表板上，从&#x200B;**分配的渠道和计划**&#x200B;面板中单击&#x200B;**...**，然后单击&#x200B;**+分配计划**。
   1. 单击计划的路径（例如，此处，**演示** > **计划** > **广告计划**）。
   1. 单击&#x200B;**保存**。

## 查看结果 {#viewing-the-results}

完成渠道设置并显示后，启动AEM Screens Player以查看内容。

>[!NOTE]
>
>要了解AEM Screens Player，请参阅以下资源：
>
>* [下载AEM Screens播放器](https://download.macromedia.com/screens/)
>* [使用AEM Screens Player](working-with-screens-player.md)


以下输出根据显示路径，确认您在AEM Screens Player中的渠道内容。

**方案1**：

如果将显示路径分配为&#x200B;**演示** > **位置** > **区域A** > **商店1** > **`Store1Display`**，则以下内容将显示在您的AEM Screens播放器上。

![channeldisplay1](assets/channeldisplay1.gif)

**方案1**：

如果将显示路径分配为&#x200B;**演示** > **位置** > **区域B** > **商店3** > **`Store3Display`**，则以下内容将显示在您的AEM Screens播放器上。

![channeldisplay2](assets/channeldisplay2.gif)

## 限制用户和修改ACL {#restricting-users-and-modifying-the-acls}

您可以创建全局、区域或本地作者来编辑与他们相关的内容，同时受限制无法编辑层次结构中较高层的渠道。

编辑ACL ，以便您可以根据它们的位置限制用户对内容的访问。

### 示例用例 {#example-use-case}

以下示例允许您为上述演示项目创建三个用户。

这些权限按如下方式分配给每个组：

**组**：

* **Global-Author**：由有权访问&#x200B;**演示**&#x200B;项目中的所有位置和渠道以及拥有所有读、写和编辑权限的用户组成。

* **Region-Author**：包含对&#x200B;**区域A**&#x200B;和&#x200B;**区域B**&#x200B;具有读、写和编辑权限的用户。

* **Store-Author**：由只对&#x200B;**存储1**、**存储2**、**存储3**&#x200B;和&#x200B;**存储4**&#x200B;具有读、写和编辑权限的用户组成。

#### 创建用户组、用户和设置ACL的步骤 {#steps-for-creating-user-groups-users-and-setting-up-acls}

>[!NOTE]
>
>要详细了解如何使用ACL隔离项目，以便每个个人或团队处理自己的项目，请参阅&#x200B;**设置ACL**。

按照以下步骤创建组、用户，并根据权限修改ACL：

1. **创建组**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** > **安全性** > **组**。
   1. 单击&#x200B;**创建群组**，然后在&#x200B;**ID**&#x200B;中输入&#x200B;**Global-Author**。
   1. 单击“**保存并关闭**”。

   同样，创建两个其他组，如&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**。

   ![screen_shot_2018-09-17at34008pm](assets/screen_shot_2018-09-17at34008pm.png)

1. **创建用户并将用户添加到组**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** > **安全** > **用户**。
   1. 单击&#x200B;**创建用户**，然后在&#x200B;**ID**&#x200B;中输入&#x200B;**全局用户**。
   1. 输入&#x200B;**密码**&#x200B;并确认此用户的密码。
   1. 单击“**组**”选项卡并在&#x200B;**单击“组**”中输入组名，例如，输入&#x200B;**Global-Author**&#x200B;以将&#x200B;**Global-User**&#x200B;添加到该特定组。
   1. 单击“**保存并关闭**”。

   同样，创建两个其他用户，如&#x200B;**Region-User**&#x200B;和&#x200B;**Store-User**，并将它们分别添加到&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**。

   >[!NOTE]
   >最佳做法是在组中添加用户，然后向每个特定的用户组分配权限。

   ![screen_shot_2018-09-17at34412pm](assets/screen_shot_2018-09-17at34412pm.png)

1. **将所有组添加到参与者**

   1. 导航到&#x200B;**Adobe Experience Manager**。
   1. 单击&#x200B;**工具** > **安全性** > **组**。
   1. 单击列表中的&#x200B;**参与者**，然后单击&#x200B;**成员**&#x200B;选项卡。
   1. 单击&#x200B;**组**，例如&#x200B;**Global-Author**、**Region-Author、**&#x200B;和&#x200B;**Store-Author**&#x200B;以加入参与者。
   1. 单击“**保存并关闭**”。

1. **访问每个组的权限**

   1. 导航到&#x200B;*用户管理员*&#x200B;并使用此UI修改不同组的权限。
   1. 搜索&#x200B;**Global-Author**&#x200B;并单击&#x200B;**权限**&#x200B;选项卡，如下图所示。
   1. 同样，您可以访问&#x200B;**Region-Author**&#x200B;和&#x200B;**Store-Author**&#x200B;的权限。

   ![screen_shot_2018-09-18at73523am](assets/screen_shot_2018-09-18at73523am.png)

1. **修改每个组的权限**

   全局作者的&#x200B;**：**

   1. 导航到&#x200B;**权限**&#x200B;选项卡
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并检查所有权限
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并检查所有权限
   1. 导航到&#x200B;***/content/screens/demo/locations/region-a***&#x200B;并检查所有权限。 同样，检查&#x200B;**`region-b`**&#x200B;的权限。

   请参阅下图以了解这些步骤：
   ![screen_shot_2018-09-18at115752am](assets/screen_shot_2018-09-18at115752am.png)

   以下显示了&#x200B;**全局用户**&#x200B;对&#x200B;**全局通道**&#x200B;的访问权限。 并且，可以通过所有四个商店（即&#x200B;**商店1**、**商店2**、**商店3**&#x200B;和&#x200B;**商店4**）访问&#x200B;**区域A**&#x200B;和&#x200B;**区域B**。

   ![全局](assets/global.gif)

   区域作者的&#x200B;**：**

   1. 导航到&#x200B;**权限**&#x200B;选项卡。
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/channels***，并取消选中&#x200B;**全局**&#x200B;渠道的权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***/***region-a***&#x200B;并检查所有权限。 同样，检查&#x200B;**`region-b`**&#x200B;的权限。

   请参阅下图，以便您了解相关步骤：

   ![screen_shot_2018-09-18at125158pm](assets/screen_shot_2018-09-18at125158pm.png)

   以下内容显示区域用户同时具有&#x200B;**区域A**&#x200B;和&#x200B;**区域B**&#x200B;的访问权限。 访问所有四个商店，即&#x200B;**商店1**、**商店2**、**商店3**&#x200B;和&#x200B;**商店4**，但不访问&#x200B;**全局**&#x200B;渠道。

   ![区域](assets/region.gif)

   存储作者：****

   1. 导航到&#x200B;**权限**&#x200B;选项卡。
   1. 导航到&#x200B;***/content/screens/demo***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/channels***，并取消选中&#x200B;**全局**&#x200B;渠道的权限。
   1. 导航到&#x200B;***/content/screens/demo/locations/region-a***&#x200B;并仅检查&#x200B;**读取**&#x200B;权限。 同样，仅检查&#x200B;**`region-b`**&#x200B;的&#x200B;**读取**&#x200B;权限。
   1. 导航到&#x200B;***/content/screens/demo/locations***/***region-a /store-1***&#x200B;并检查所有权限。 同样，检查&#x200B;**store-2、store-3、**&#x200B;和&#x200B;**store-4**&#x200B;的权限。

   请参阅下图，以便您了解相关步骤：

   ![screen_shot_2018-09-18at12415pm](assets/screen_shot_2018-09-18at12415pm.png)

   以下显示&#x200B;**Store-User**&#x200B;只能访问&#x200B;**Store 1**、**Store 2**、**Store 3**&#x200B;和&#x200B;**Store 4**。 但是，它无权访问&#x200B;**全局**&#x200B;或区域（**区域A**&#x200B;和&#x200B;**区域B**）通道。

   ![存储](assets/store.gif)

>[!NOTE]
>
>要了解有关设置权限的详细信息，请参阅[设置ACL](setting-up-acls.md)。
